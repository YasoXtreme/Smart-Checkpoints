<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Checkpoints â€” Project</title>
    <link rel="icon" href="/Images/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/Css/project.css" />
    <link rel="stylesheet" href="/Css/cursor.css" />
    <script src="/Js/cursor.js" defer></script>
  </head>
  <body>
    <div class="custom-cursor"></div>
    <!-- Header -->
    <header id="project-header">
      <div class="header-left">
        <a href="/" class="logo">
          <img
            src="/Images/logo.png"
            alt="Smart Checkpoints"
            class="logo-img"
          />
        </a>
      </div>
      <div class="header-right">
        <a href="/documentation" class="header-link">Documentation</a>
        <a href="/admin" class="header-link">Admin</a>
      </div>
    </header>

    <!-- Canvas -->
    <canvas id="project-canvas"></canvas>

    <!-- Congestion Legend -->
    <div id="congestion-legend">
      <div class="legend-title">Traffic Density</div>
      <div class="legend-bar"></div>
      <div class="legend-labels">
        <span>Normal</span>
        <span>Delayed</span>
        <span>Severe</span>
      </div>
    </div>

    <!-- Connection Editor Modal -->
    <div id="connection-editor" class="editor-panel hidden">
      <h3>Edit Connection</h3>
      <label>
        <span>Distance (m)</span>
        <input type="number" id="edit-distance" min="0" step="0.1" />
      </label>
      <label>
        <span>Speed Limit (km/h)</span>
        <input type="number" id="edit-speed-limit" min="0" step="1" />
      </label>
      <div class="editor-actions">
        <button id="edit-save" class="editor-btn">Save</button>
        <button id="edit-cancel" class="editor-btn editor-btn-secondary">
          Cancel
        </button>
      </div>
    </div>

    <!-- New Connection Modal -->
    <div id="new-connection-modal" class="modal-overlay hidden">
      <div class="modal">
        <button class="modal-close" id="new-conn-close">&times;</button>
        <h2>New Connection</h2>
        <p class="modal-subtitle" id="new-conn-subtitle"></p>
        <label class="modal-label">
          <span>Distance (m)</span>
          <input
            type="number"
            id="new-conn-distance"
            min="0"
            step="0.1"
            placeholder="100"
          />
        </label>
        <label class="modal-label">
          <span>Speed Limit (km/h)</span>
          <input
            type="number"
            id="new-conn-speed"
            min="0"
            step="1"
            placeholder="60"
          />
        </label>
        <button id="new-conn-submit" class="modal-btn">
          Create Connection
        </button>
      </div>
    </div>

    <!-- Violations Panel -->
    <div id="violations-panel">
      <div class="violations-header">
        <h3>Live Violations</h3>
      </div>
      <div class="violations-body">
        <table class="violations-table">
          <thead>
            <tr>
              <th>Time</th>
              <th>Plate</th>
              <th>Speed</th>
            </tr>
          </thead>
          <tbody id="violations-tbody"></tbody>
        </table>
        <div id="violations-empty" class="violations-empty">
          No violations recorded yet
        </div>
      </div>
    </div>

    <!-- Violations Toggle Button -->
    <button id="violations-toggle">
      <div class="toggle-icon">
        <div class="bar">
          <span class="dot"></span><span class="line"></span>
        </div>
        <div class="bar">
          <span class="dot"></span><span class="line"></span>
        </div>
        <div class="bar">
          <span class="dot"></span><span class="line"></span>
        </div>
      </div>
    </button>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/Js/project.js"></script>
  </body>
</html>
